model Boards {
  id String @id @map("id") @default(cuid())
  name String @map("name")
  description String @map("description")
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  deletedAt DateTime? @map("deleted_at")
  
  // Relations  
  projectId String @map("project_id")
  project Projects @relation(fields: [projectId], references: [id], onDelete: Cascade)
  stages Stages[]
  @@map("boards")
}

model Stages {
  id String @id @map("id") @default(cuid())
  name String @map("name")
  description String @map("description")
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  deletedAt DateTime? @map("deleted_at")

  // Relations
  boardId String @map("board_id")
  board Boards @relation(fields: [boardId], references: [id], onDelete: Cascade)
  tasks Tasks[]
  @@map("stages")
}

model Tasks {
  id String @id @map("id") @default(cuid())
  title String @map("title")
  description String @map("description")
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  deletedAt DateTime? @map("deleted_at")

  // Relations
  createdByUserId String @map("created_by_user_id")
  createdByUser User @relation(fields: [createdByUserId], references: [id], onDelete: Cascade, name: "CreatedTasks")
  assignedToUserId String @map("assigned_to_user_id")
  assignedToUser User @relation(fields: [assignedToUserId], references: [id], onDelete: Cascade, name: "AssignedTasks")
  stageId String @map("stage_id")
  stage Stages @relation(fields: [stageId], references: [id], onDelete: Cascade)
  @@map("tasks")
}